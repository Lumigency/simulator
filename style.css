<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lumigency — Simulateur Affiliation</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <img class="brand-logo" src="./assets/logo_lumigency_wip.svg" alt="Lumigency" />
        <div class="brand-text">
          <div class="brand-title">Simulateur Affiliation</div>
          <div class="brand-subtitle">3 étapes • estimation instantanée • recommandations</div>
        </div>
      </div>

      <a class="close-btn" href="https://www.lumigency.com/strategie-consulting-affiliation" aria-label="Fermer le simulateur">✕</a>
    </header>

    <main class="shell split-layout" id="layout">
      <!-- LEFT -->
      <section class="left-panel">
        <div class="hero">
          <div class="hero-badge">Outil premium</div>
          <h1 class="hero-title">Projetez le potentiel de votre programme d’affiliation</h1>
          <p class="hero-desc">
            En quelques questions, obtenez une estimation (CA, commandes, CAC, ROI) et une lecture claire de votre mix de leviers.
          </p>

          <div class="hero-cards" aria-hidden="true">
            <div class="mini-card">
              <div class="mini-ico"><img src="./assets/rocket_3d.svg" alt="" /></div>
              <div>
                <div class="mini-title">Projection</div>
                <div class="mini-text">CA, commandes, budget</div>
              </div>
            </div>

            <div class="mini-card">
              <div class="mini-ico"><img src="./assets/target_3d.svg" alt="" /></div>
              <div>
                <div class="mini-title">Mix leviers</div>
                <div class="mini-text">Répartition estimée</div>
              </div>
            </div>

            <div class="mini-card">
              <div class="mini-ico"><img src="./assets/thunder_3d.svg" alt="" /></div>
              <div>
                <div class="mini-title">Insights</div>
                <div class="mini-text">Lecture rapide & action</div>
              </div>
            </div>
          </div>

          <div class="didyouknow">
            <div class="didyouknow-title">Le saviez-vous ?</div>
            <div class="didyouknow-text">
              L’affiliation ne se résume pas au cashback : un mix bien piloté combine contenu, intention (comparateurs/CSS),
              relances (retargeting/email) et performance (SEA/PPC).
            </div>
          </div>
        </div>

        <div class="progress">
          <div class="progress-meta">
            <span class="progress-label">Progression</span>
            <span class="progress-value" id="progress-text">0%</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress-bar"></div>
          </div>

          <div class="stepper" role="list" aria-label="Étapes du simulateur">
            <div class="step is-active" data-step="0" role="listitem">
              <span class="step-dot"></span><span class="step-name">Contexte</span>
            </div>
            <div class="step" data-step="1" role="listitem">
              <span class="step-dot"></span><span class="step-name">Données & leviers</span>
            </div>
            <div class="step" data-step="2" role="listitem">
              <span class="step-dot"></span><span class="step-name">Finalisation</span>
            </div>
            <div class="step" data-step="3" role="listitem">
              <span class="step-dot"></span><span class="step-name">Résultats</span>
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT -->
      <section class="right-panel" aria-label="Formulaire simulateur">

        <form id="simu-form" novalidate>
          <!-- STEP 1 -->
          <section class="form-step active" data-step="0" aria-labelledby="step1-title">
            <div class="step-header">
              <h2 id="step1-title">Contexte</h2>
              <p>Quelques informations pour comprendre votre maturité et votre objectif.</p>
            </div>

            <div class="field">
              <label>Objectif principal</label>
              <div class="pill-grid" role="group" aria-label="Objectif">
                <button type="button" class="pill" data-pill="objectif" data-value="lancer">Lancer</button>
                <button type="button" class="pill" data-pill="objectif" data-value="optimiser">Optimiser</button>
                <button type="button" class="pill" data-pill="objectif" data-value="diversifier">Diversifier</button>
                <button type="button" class="pill" data-pill="objectif" data-value="scaler">Scaler</button>
              </div>
              <input type="hidden" id="objectif" name="objectif" required />
            </div>

            <div class="grid-2">
              <div class="field">
                <label>Programme déjà en place ?</label>
                <div class="pill-row" role="group" aria-label="Programme existant">
                  <button type="button" class="pill" data-pill="programme" data-value="oui">Oui</button>
                  <button type="button" class="pill" data-pill="programme" data-value="non">Non</button>
                </div>
                <input type="hidden" id="programme" name="programme" required />
              </div>

              <div class="field">
                <label>Zone géographique</label>
                <select id="zone" name="zone" required>
                  <option value="" disabled selected>Choisir…</option>
                  <option value="fr">France</option>
                  <option value="eu">Europe</option>
                  <option value="intl">International</option>
                </select>
              </div>
            </div>

            <div class="grid-2">
              <div class="field">
                <label>Mode de gestion acquisition</label>
                <select id="gestion" name="gestion" required>
                  <option value="" disabled selected>Choisir…</option>
                  <option value="interne">Interne</option>
                  <option value="agence">Agence</option>
                  <option value="mix">Mix</option>
                </select>
              </div>

              <div class="field">
                <label>Niveau de connaissance</label>
                <select id="maturite" name="maturite" required>
                  <option value="" disabled selected>Choisir…</option>
                  <option value="decouverte">Je découvre</option>
                  <option value="teste">J’ai déjà testé</option>
                  <option value="structure">Programme structuré</option>
                </select>
              </div>
            </div>

            <div class="step-actions">
              <button type="button" class="btn secondary" disabled>Retour</button>
              <button type="button" class="btn primary" id="next-step-1" disabled>Continuer</button>
            </div>
          </section>

          <!-- STEP 2 -->
          <section class="form-step" data-step="1" aria-labelledby="step2-title">
            <div class="step-header">
              <h2 id="step2-title">Données & leviers</h2>
              <p>Renseignez vos métriques clés et sélectionnez les leviers à activer.</p>
            </div>

            <div class="grid-2">
              <div class="field">
                <label for="traffic">Trafic mensuel</label>
                <div class="range-row">
                  <input id="trafficRange" type="range" min="1000" max="1000000" step="1000" value="50000" />
                  <input id="traffic" name="traffic" type="number" min="0" step="1000" value="50000" required />
                </div>
                <div class="hint">Astuce : on annualise le trafic pour simuler une montée en puissance.</div>
              </div>

              <div class="field">
                <label for="aov">Panier moyen (€)</label>
                <input id="aov" name="aov" type="number" min="0" step="1" placeholder="Ex : 65" required />
              </div>

              <div class="field">
                <label for="cvr">Taux de conversion (%)</label>
                <input id="cvr" name="cvr" type="number" min="0" step="0.01" placeholder="Ex : 1.25" required />
              </div>

              <div class="field">
                <label for="cac">CAC client (€)</label>
                <input id="cac" name="cac" type="number" min="0" step="1" placeholder="Ex : 35" required />
              </div>
            </div>

            <div class="grid-2">
              <div class="field">
                <label>Budget affiliation mensuel</label>
                <div class="budget-box">
                  <div class="pill-row">
                    <button type="button" class="pill" data-pill="budgetMode" data-value="defini">Budget défini</button>
                    <button type="button" class="pill" data-pill="budgetMode" data-value="illimite">Explorer le plein potentiel</button>
                  </div>
                  <input type="hidden" id="budgetMode" name="budgetMode" required />

                  <div class="budget-gauge" id="budgetGauge" hidden>
                    <div class="gauge-top">
                      <span class="gauge-label">Montant mensuel</span>
                      <span class="gauge-value" id="budgetValue">—</span>
                    </div>
                    <input id="budgetRange" type="range" min="500" max="20000" step="250" value="3000" />
                    <input id="budget" name="budget" type="hidden" value="" />
                    <div class="gauge-legend">
                      <span>500€</span><span>20 000€</span>
                    </div>
                  </div>

                  <div class="hint">Si vous n’avez pas de budget défini, on simule sans cap de budget.</div>
                </div>
              </div>

              <div class="field">
                <label>Modèles hybrides</label>
                <div class="pill-row" role="group" aria-label="Modèles hybrides">
                  <button type="button" class="pill" data-pill="hybrides" data-value="oui">Ouvert</button>
                  <button type="button" class="pill" data-pill="hybrides" data-value="non">Pas pour l’instant</button>
                </div>
                <input type="hidden" id="hybrides" name="hybrides" required />
                <div class="alert" id="hybridAlert" hidden>
                  Certains leviers performants demandent souvent de l’hybride. Si vous refusez l’hybridation tout en activant ces leviers, la projection sera pénalisée.
                </div>
              </div>
            </div>

            <div class="field">
              <label>Leviers à activer</label>
              <div class="checks">
                <label class="check"><input type="checkbox" name="lever" value="cashback"> Cashback</label>
                <label class="check"><input type="checkbox" name="lever" value="bonsplans"> Bons plans</label>
                <label class="check"><input type="checkbox" name="lever" value="css"> CSS</label>
                <label class="check"><input type="checkbox" name="lever" value="comparateurs"> Comparateurs</label>
                <label class="check"><input type="checkbox" name="lever" value="retargeting"> Retargeting</label>
                <label class="check"><input type="checkbox" name="lever" value="display-networks"> Display networks</label>
                <label class="check"><input type="checkbox" name="lever" value="content"> Content commerce</label>
                <label class="check"><input type="checkbox" name="lever" value="emailing"> Emailing / newsletters</label>
                <label class="check"><input type="checkbox" name="lever" value="ppc"> PPC / SEA</label>
                <label class="check"><input type="checkbox" name="lever" value="influence"> Influence</label>
                <label class="check"><input type="checkbox" name="lever" value="affinitaires"> Affinitaires</label>
                <label class="check"><input type="checkbox" name="lever" value="retention"> Rétention onsite</label>
              </div>

              <div class="inline-row">
                <label class="check subtle">
                  <input type="checkbox" id="selectAllLevers" /> Autoriser tous les leviers
                </label>
              </div>
            </div>

            <div class="step-actions">
              <button type="button" class="btn secondary" id="prev-step-2">Retour</button>
              <button type="button" class="btn primary" id="next-step-2" disabled>Continuer</button>
            </div>
          </section>

          <!-- STEP 3 -->
          <section class="form-step" data-step="2" aria-labelledby="step3-title">
            <div class="step-header">
              <h2 id="step3-title">Finalisation</h2>
              <p>Dernier écran : on vous envoie la simulation et on affiche vos résultats.</p>
            </div>

            <div class="grid-2">
              <div class="field">
                <label for="sector">Secteur d’activité</label>
                <select id="sector" name="sector" required>
                  <option value="" disabled selected>Choisir…</option>
                  <option value="fashion">Mode / accessoires</option>
                  <option value="beauty">Beauté</option>
                  <option value="home">Maison</option>
                  <option value="travel">Voyage</option>
                  <option value="services">Services</option>
                  <option value="other">Autre</option>
                </select>
              </div>

              <div class="field">
                <label for="site">Site (optionnel)</label>
                <input id="site" name="site" type="url" placeholder="https://votre-site.com" />
              </div>

              <div class="field">
                <label for="email">Email</label>
                <input id="email" name="email" type="email" placeholder="vous@entreprise.com" required />
              </div>
            </div>

            <div class="step-actions">
              <button type="button" class="btn secondary" id="prev-step-3">Retour</button>
              <button type="submit" class="btn primary" id="submit-btn" disabled>Lancer ma simulation</button>
            </div>
          </section>
        </form>

        <!-- RESULTS -->
        <section id="results" class="results hidden" aria-label="Résultats de la simulation">
          <div class="results-header">
            <div>
              <h2>Résultats</h2>
              <p class="muted">Voici votre projection, construite à partir de vos réponses.</p>
            </div>
            <button class="btn secondary small" id="restart-btn" type="button">Refaire une simulation</button>
          </div>

          <div class="kpi-grid">
            <div class="kpi-card"><div class="kpi-label">CA estimé</div><div class="kpi-value" id="kpiRevenue">—</div></div>
            <div class="kpi-card"><div class="kpi-label">Commandes</div><div class="kpi-value" id="kpiOrders">—</div></div>
            <div class="kpi-card"><div class="kpi-label">Budget</div><div class="kpi-value" id="kpiBudget">—</div></div>
            <div class="kpi-card"><div class="kpi-label">Panier ajusté</div><div class="kpi-value" id="kpiAov">—</div></div>
            <div class="kpi-card"><div class="kpi-label">CAC projeté</div><div class="kpi-value" id="kpiCac">—</div></div>
            <div class="kpi-card"><div class="kpi-label">ROI</div><div class="kpi-value" id="kpiRoi">—</div></div>
          </div>

          <div class="results-grid">
            <div class="panel">
              <div class="panel-title">Répartition des leviers</div>
              <canvas id="leverChart" height="240"></canvas>
              <div class="panel-note" id="mixNote">Mix projeté en fonction de vos réponses</div>
            </div>

            <div class="panel">
              <div class="panel-title">Analyse rapide</div>
              <div class="insights" id="insights"></div>

              <div class="cta-card">
                <div>
                  <div class="cta-title">Envie d’aller plus loin ?</div>
                  <div class="cta-text">Un expert Lumigency analyse vos résultats et vous propose des pistes concrètes.</div>
                </div>
                <a class="btn primary" href="https://www.lumigency.com/strategie-consulting-affiliation" id="cta-audit">Obtenir un audit</a>
              </div>
            </div>
          </div>

          <div class="panel editors">
            <div class="panel-title">Éditeurs recommandés</div>
            <div class="editor-grid" id="editorGrid"></div>
          </div>

          <div class="final-cta">
            <div>
              <div class="final-title">Bénéficier d’un échange stratégique avec Lumigency</div>
              <div class="final-text">On vous aide à structurer votre programme et piloter un mix rentable.</div>
            </div>
            <a class="btn primary" href="https://www.lumigency.com/strategie-consulting-affiliation" id="cta-final">Prendre rendez-vous</a>
          </div>
        </section>

      </section>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="./script.js"></script>
</body>
</html>
