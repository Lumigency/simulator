<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lumigency — Simulateur Affiliation</title>

  <!-- Police -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- ✅ Chemin RELATIF (GitHub Pages friendly) -->
  <link rel="stylesheet" href="style.css" />

  <!-- Chart.js (si tu l’utilises déjà) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
</head>

<body>
  <main class="split-layout">
    <!-- ===================== LEFT COLUMN ===================== -->
    <aside class="left-column">
      <img class="brand-logo" src="LOGO2025.png" alt="Lumigency" />

      <h1>Simulateur Affiliation<br><span class="muted">3 étapes • estimation instantanée • recommandations</span></h1>

      <ul class="benefits-list">
        <li><span class="check">✓</span><span>Projection CA / commandes / CAC / ROI</span></li>
        <li><span class="check">✓</span><span>Lecture claire du mix de leviers</span></li>
        <li><span class="check">✓</span><span>Recommandations éditeurs alignées secteur</span></li>
      </ul>

      <div class="insight-card">
        <strong>Le saviez-vous ?</strong><br>
        L’affiliation ne se résume pas au cashback : un mix bien piloté combine contenu, intention (comparateurs/CSS),
        relances (retargeting/email) et paid (SEA/PPC).
      </div>

      <!-- Message maturité (injecté par ton JS) -->
      <div id="insight-message" class="insight-personal-message" style="display:none;">
        <p id="insight-text"></p>
      </div>

      <div class="lumigency-signature">
        <strong>Lumigency</strong> — conseil & brokerage affiliation
      </div>
    </aside>

    <!-- ===================== RIGHT COLUMN (FORM) ===================== -->
    <section class="right-column">
      <header class="intro">
        <h2>Projetez le potentiel de votre programme d’affiliation</h2>
        <p class="subtitle">
          En quelques questions, obtenez une estimation (CA, commandes, CAC, ROI) et une lecture claire de votre mix de leviers.
        </p>
      </header>

      <!-- Progress -->
      <div class="progress-container" aria-label="Progression">
        <div id="progress-bar" class="progress-bar">
          <span id="progress-text" class="progress-text-inside">0%</span>
        </div>
      </div>

      <!-- FORM -->
      <form id="form-simu" novalidate>
        <!-- ============ STEP 1 ============ -->
        <div class="form-step active" data-step="1">
          <h3 class="section-title">Contexte</h3>

          <label class="question-label" for="objectif">Quel est votre objectif ?</label>
          <select id="objectif" name="objectif" required>
            <option value="">— Choisir —</option>
            <option value="lancer">Lancer</option>
            <option value="optimiser">Optimiser</option>
            <option value="diversifier">Diversifier</option>
            <option value="scaler">Scaler</option>
          </select>

          <label class="question-label">Autorisez-vous des modèles hybrides (CPC/CPM/fixe) ?</label>
          <div class="radio-group">
            <label class="radio-item">
              <input type="radio" name="hybrides" value="oui" checked>
              <span>Oui</span>
            </label>
            <label class="radio-item">
              <input type="radio" name="hybrides" value="non">
              <span>Non</span>
            </label>
          </div>

          <div id="hybrid-alert" class="alert-hybride" role="alert"></div>

          <div class="step-actions">
            <button type="button" class="btn-next" id="next-step-1">Continuer</button>
          </div>
        </div>

        <!-- ============ STEP 2 ============ -->
        <div class="form-step" data-step="2">
          <h3 class="section-title">Données & leviers</h3>

          <label class="question-label" for="sector">Secteur</label>
          <select id="sector" name="sector">
            <option value="other">Autre</option>
            <option value="fashion">Mode & Beauté</option>
            <option value="beauty">Beauté & Cosmétique</option>
            <option value="electronics">High-tech & Électroménager</option>
            <option value="home">Maison & Décoration</option>
            <option value="food">Alimentaire & Drive</option>
            <option value="sports">Sport & Loisirs</option>
            <option value="travel">Voyage & Tourisme</option>
            <option value="luxury">Luxe & Bijoux</option>
            <option value="auto">Automobile</option>
            <option value="culture">Produits culturels</option>
          </select>

          <div class="form-row">
            <div>
              <label class="question-label" for="site">URL du site</label>
              <input id="site" name="site" type="url" placeholder="https://..." />
            </div>
            <div>
              <label class="question-label" for="email">Email</label>
              <input id="email" name="email" type="email" placeholder="vous@marque.com" />
            </div>
          </div>

          <label class="question-label" for="marge">Marge (optionnel)</label>
          <input id="marge" name="marge" type="text" placeholder="ex : 40%" />

          <label class="question-label">Leviers à activer</label>

          <div class="single-checkbox">
            <input type="checkbox" id="allLevers">
            <label for="allLevers">J’autorise tous les leviers</label>
          </div>

          <div class="checkbox-group">
            <label><input type="checkbox" name="levers" value="cashback"> Cashback</label>
            <label><input type="checkbox" name="levers" value="bonsplans"> Bons plans</label>
            <label><input type="checkbox" name="levers" value="retargeting"> Retargeting</label>
            <label><input type="checkbox" name="levers" value="css"> CSS</label>
            <label><input type="checkbox" name="levers" value="comparateurs"> Comparateurs</label>
            <label><input type="checkbox" name="levers" value="display-networks"> Display networks</label>
            <label><input type="checkbox" name="levers" value="retention"> Retention</label>
            <label><input type="checkbox" name="levers" value="content"> Content</label>
            <label><input type="checkbox" name="levers" value="emailing"> Emailing</label>
            <label><input type="checkbox" name="levers" value="ppc"> SEA / PPC</label>
            <label><input type="checkbox" name="levers" value="affinitaires"> Affinitaires</label>
            <label><input type="checkbox" name="levers" value="influence"> Influence</label>
          </div>

          <div class="step-actions">
            <button type="button" class="btn-prev" id="prev-step-2">Retour</button>
            <button type="button" class="btn-next" id="next-step-2">Continuer</button>
          </div>
        </div>

        <!-- ============ STEP 3 ============ -->
        <div class="form-step" data-step="3">
          <h3 class="section-title">Finalisation</h3>

          <label class="question-label">Trafic mensuel (visites)</label>
          <div class="traffic-slider-container">
            <div class="slider-wrapper">
              <input id="trafficRange" type="range" min="0" max="1000000" step="1000" value="50000">
              <div class="slider-labels">
                <span>0</span><span>250k</span><span>500k</span><span>1M</span>
              </div>
            </div>
            <input id="trafficInput" name="traffic" type="number" min="0" max="1000000" step="1000" value="50000">
          </div>

          <div class="form-row">
            <div>
              <label class="question-label" for="budget">Budget mensuel (optionnel)</label>
              <input id="budget" name="budget" type="number" min="0" step="50" placeholder="ex : 3000">
              <div class="checkbox-budget">
                <input type="checkbox" id="unlimited-budget">
                <label for="unlimited-budget">Je n’ai pas de budget</label>
              </div>
            </div>

            <div>
              <label class="question-label" for="aov">Panier moyen (AOV)</label>
              <input id="aov" name="aov" type="number" min="0" step="1" placeholder="ex : 80">
            </div>

            <div>
              <label class="question-label" for="cvr">Taux de conversion (%)</label>
              <input id="cvr" name="cvr" type="number" min="0" step="0.1" placeholder="ex : 1.6">
            </div>

            <div>
              <label class="question-label" for="cac">CAC (optionnel)</label>
              <input id="cac" name="cac" type="number" min="0" step="1" placeholder="ex : 12">
            </div>
          </div>

          <div class="step-actions">
            <button type="button" class="btn-prev" id="prev-step-3">Retour</button>
            <button type="submit" class="cta">Lancer la simulation</button>
          </div>
        </div>
      </form>
    </section>

    <!-- ===================== RESULTS ===================== -->
    <section id="results" class="right-column" style="display:none;">
      <div class="results-section">
        <h2>Résultats</h2>
        <p class="subtitle">Projection année 1 (montée en puissance) selon les informations saisies.</p>

        <div class="kpi-grid">
          <div class="kpi-card"><strong>Chiffre d’affaires</strong><span id="kpi-revenue">—</span></div>
          <div class="kpi-card"><strong>Commandes</strong><span id="kpi-orders">—</span></div>
          <div class="kpi-card"><strong>Budget</strong><span id="kpi-budget">—</span></div>
          <div class="kpi-card"><strong>AOV ajusté</strong><span id="kpi-aov">—</span></div>
          <div class="kpi-card"><strong>CAC projeté</strong><span id="kpi-cac">—</span></div>
          <div class="kpi-card"><strong>ROI</strong><span id="kpi-roi">—</span></div>
        </div>

        <div class="chart-container">
          <canvas id="chart-levers" width="320" height="320"></canvas>
        </div>

        <div id="insights" class="analysis-block"></div>

        <div class="editor-suggestions">
          <h3>Éditeurs suggérés</h3>
          <div class="editor-grid"></div>
        </div>

        <div class="editor-optin">
          <label>
            <input type="checkbox" id="optin-editors" checked>
            Oui, je souhaite recevoir les recommandations par email.
          </label>
          <div id="toast"></div>
        </div>

        <div id="cta-dynamic" class="cta-dynamic" style="display:none;">
          <a id="cta-button" class="cta-button" href="#" target="_blank" rel="noopener">Prendre rendez-vous</a>
        </div>

        <button id="restart-btn" type="button">↩ Refaire une simulation</button>
      </div>
    </section>
  </main>

  <!-- JS (chemin RELATIF) -->
  <script src="script.js"></script>
</body>
</html>
